h1. 14 Интеграция openEHR с другими системами

h2. 14.1 Обзор

Ввод и вывод информации из ЭМК это одни из самых простых требований, которые openEHR стремится удовлетворить. В системах с чистого листа и для данных создаваемых приложениями с графическим интерфейсом через API ЭМК openEHR, нет трудностей, если используются родные структуры и семантика openEHR. В большинстве других ситуаций необходимо учитывать наличие существующих источников и потребителей данных. В общем случае внешние или 'унаследованные' данные (здесь этот термин используется для удобства и не предполагает ничего о возрасте или качестве подразумеваемых систем) имеют отличный синтаксический и семантический формат от данных openEHR, и бесшовная конверсия требует участия обоих уровней.

Существующие источники и потребители данных включают реляционные базы данных, сообщения HL7v2, документы HL7 CDA и скорее всего данные по стандарту CEN EN13606. Сообщения HL7v2 скорее всего один из частых источников сообщений о патологии во множестве стран. EDIFACT сообщения - другой. Недавно сообщения HL7v2 были разработаны для направлений и даже для выписного эпикриза. Не все унаследованные системы стандартизованы; большинство госпитальных и систем общей практики имеют свои собственные частные модели данных и использование терминологии.

Основная потребность с учетом унаследованных данных - это возможность конвертации данных из множества взаимно несовместимых источников в единую, стандартизированную, пациенто-ориентированную ЭМК для каждого пациента, которую можно просматривать и извлекать данные в течение длительного времени. Это позволяет интегрировать записи общей практики и специализированные, диагнозы  и планы с результатами лабораторных исследований из различных источников, записей пациента, административной информации и так далее, для предоставления последовательной истории пациента.

В техническом плане приходится иметь дело со множеством несовместимостей. Нет гарантий соответствия области входящих транзакций и целевой структуры openEHR - входящий документ, например, может относиться ко множеству медицинских архетипов. Структуры обычно не совпадают, унаследованные данные (особенно сообщения) имеют более плоскую структуру чем определенные в архетипах. Использование терминологии существенно различается в существующих системах и сообщениях, и с этим также необходимо иметь дело. Типы данных также не соотносятся напрямую, так например, сопоставление между входящей строкой "110/80 mmHg" и целевой формой openEHR из двух объектов класса @DV_QUANTITY@, каждый из которых имеет свое значение и единицу измерения.

h2. 14.2 Интеграционные архетипы

Основание ключевого подхода к интеграционной проблеме - использование двух типов архетипов. До сих пор в этом документе термин "архетип" означал "разработанный" архетип, в общем случае медицинский, демографический или административный. Общие факторы для таких архетипов:

* они основаны на главной части базовой модели, конкретно подтипы класса Entry @OBSERVATION@, @EVALUATION@, @INSTRUCTION@ и @ACTION@;
* они сознательно разработаны с чистого листа группой специалистов и интегрированы в существующую библиотеку архетипов openEHR
* существует один архетип для каждого опознаваемого медицинского "понятия", такие как наблюдение, персона и т.д

Вторая категория архетипов - это "интеграционные" архетипы. Они характеризуются следующим:

* они основаны на тех же классах высокого уровня (@COMPOSITION@, @SECTION@ и т.д.), но используют подтип класса Entry @GENERIC_ENTRY@ (смотри Информационную модель EHR);
* они разработаны, чтобы имитировать структуру  существующих данных или сообщений; усилия на разработку совершенно другие и скорее всего это будет сделано IT специалистами или другими техническими сотрудниками, которые знакомы со структурой поступающих данных;
* один интеграционный архетип каждого типа сообщений или идентифицыруемый источник данных, который имеет смысл как транзакция в EHR.

В условиях интеграции данных, "разработанные" архетипы всегда определяют целевые структуры, кодирования и семантику данных, в то время как «интеграционные» архетипы обеспечивают средства отображения внешних данных в openEHR.

h2. 14.3 Архитектура преобразования данных

Интеграция архетипо-ориентированных стратегий для импорта данных в openEHR систему, показанный на рисунке 39, состоит из двух шагов.

p=. !39.png!

p=. *FIGURE 39* Data Integration using openEHR

Во-первых, данные преобразуются из исходного синтаксического формата в openEHR COMPOSITION/SECTION/GENERIC_ENTRY структуры, показанной на переключателе интеграции openEHR. Большинство данных появится в GENERIC_ENTRY части, контролируемая интеграционным архетипом предназначеным для имитации входящей структуры (таких, как HL7v2 лабораторное сообщение) как можно ближе; структура FEEDER_AUDIT используются для хранения интеграции мета-данных. Результатом этого шага являются данныме, которые выражаются в системе типов openEHR (т.е. как экземпляры эталонной модели openEHR), и сразу же поддаются обработке с нормальным программным обеспечением openEHR.

На втором этапе, семантические преобразования осуществляется, с помощью сопоставления между интеграцией и архетипами. Такие отображения созданы авторами  архетипов с помощью инструментов. Правила отображения являются ключом к определяющим структуру преобразования, использования терминологических кодов и другие изменения. Серьезные проблемы, конечно, остаются в бизнес-интеграции гетерогенных систем, некоторые из них рассматриваются в разделах документа Common IM на фидерных систем.
